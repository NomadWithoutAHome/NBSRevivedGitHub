{% extends "base.html" %}

{% block content %}
<div class="container video-container"> <!-- Add the "video-container" class here -->
    <div class="row">
        <!-- Video iframe on the left side (col-lg-8) -->
        <div class="col-lg-8">
            <div class="embed-responsive embed-responsive-16by9">
                <iframe src="{{ video_url }}" class="embed-responsive-item" allowfullscreen frameborder="0" allow="fullscreen"></iframe>
            </div>
        </div>

        <!-- Chat application on the right side (col-lg-4) -->
        <div class="col-lg-4">
            <div class="chat-container" style="height: 100%;">
                <iframe src="https://webchat.freenode.net/?channels=#NoBullShitSimpsons" style="border:0; width:100%; height:100%;"></iframe>
            </div>
        </div>
    </div>
</div>
{% endblock %}

<!-- Add the JavaScript code here -->
<script>
// Define the XPath expression for the element you want to find
const targetXPath = "/html/body/div[1]/main/button";

// Function to check if the target element exists
function checkForElement() {
  const targetElement = document.evaluate(targetXPath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;

  if (targetElement) {
    // Element found, you can now perform actions on it
    console.log("Element found:", targetElement);

    // Example: Click the element
    targetElement.click();
  } else {
    // Element not found, continue observing DOM changes
    console.log("Element not found, observing...");
  }
}

// Function to start observing DOM changes
function startObserving() {
  const observer = new MutationObserver(() => {
    checkForElement();
  });

  // Configure the observer to watch for subtree changes
  observer.observe(document, { subtree: true, childList: true });
}

// Wait for the page to fully load before starting observation
window.addEventListener('load', startObserving);
</script>
</body>
</html>
